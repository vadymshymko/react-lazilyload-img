!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("react")):"function"==typeof define&&define.amd?define(["react"],n):"object"==typeof exports?exports.ReactLazilyLoadImg=n(require("react")):e.ReactLazilyLoadImg=n(e.React)}(window,(function(e){return function(e){var n={};function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=e,o.c=n,o.d=function(e,n,t){o.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,n){if(1&n&&(e=o(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)o.d(t,r,function(n){return e[n]}.bind(null,r));return t},o.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(n,"a",n),n},o.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},o.p="",o(o.s=8)}([function(n,o){n.exports=e},function(e,n){function o(){return e.exports=o=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t])}return e},o.apply(this,arguments)}e.exports=o},function(e,n,o){var t=o(9);e.exports=function(e,n){if(null==e)return{};var o,r,i=t(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)o=a[r],n.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}},function(e,n){e.exports=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}},function(e,n){function o(e,n){for(var o=0;o<n.length;o++){var t=n[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}e.exports=function(e,n,t){return n&&o(e.prototype,n),t&&o(e,t),e}},function(e,n,o){var t=o(10),r=o(11);e.exports=function(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?r(e):n}},function(e,n){function o(n){return e.exports=o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},o(n)}e.exports=o},function(e,n,o){var t=o(12);e.exports=function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&t(e,n)}},function(e,n,o){"use strict";o.r(n);var t=o(1),r=o.n(t),i=o(2),a=o.n(i),l=o(3),c=o.n(l),s=o(4),u=o.n(s),d=o(5),f=o.n(d),p=o(6),m=o.n(p),y=o(7),b=o.n(y),h=o(0),g=o.n(h),v=function(e){function n(e){var o;return c()(this,n),(o=f()(this,m()(n).call(this,e))).lazyLoad=function(e){if(o.observer)for(var n=e,t=0;t<n.length;t++)n[t].isIntersecting&&(o.loadMainImg(),o.observer.unobserve(o.img));else!1===o.isActive&&(o.isActive=!0,setTimeout((function(){o.img.getBoundingClientRect().top<=window.innerHeight&&o.img.getBoundingClientRect().bottom>=0&&"none"!==getComputedStyle(o.img).display&&(document.removeEventListener("scroll",o.lazyLoad),window.removeEventListener("resize",o.lazyLoad),window.removeEventListener("orientationchange",o.lazyLoad),o.loadMainImg()),o.isActive=!1}),200))},o.handleImgRef=function(e){o.img=e},o.handleLoad=function(e){var n=o.props,t=n.onPlaceholderLoad,r=n.onLoad,i=n.loadAfterPlaceholderEnd,a=n.useObserverFallback;o.isMainImgLoading?r(e):(t(e),!i&&("IntersectionObserver"in window||a)||o.loadMainImg())},o.handleError=function(e){var n=o.props,t=n.onPlaceholderError,r=n.onError,i=n.loadAfterPlaceholderEnd;o.isMainImgLoading?r(e):(t(e),i&&o.loadMainImg())},o.loadMainImg=function(){var e=o.props,n=e.src,t=e.srcSet,r=e.className,i=e.onLoad,a=e.onError;o.img&&(n||t)&&(o.isMainImgLoading=!0,o.img.onLoad=i,o.img.onError=a,o.img.src=n,o.img.srcSet=t,o.img.className=r)},o.img=null,o.observer=null,o.isActive=!1,o.isMainImgLoading=!1,o}return b()(n,e),u()(n,[{key:"componentDidMount",value:function(){this.img&&("IntersectionObserver"in window?(this.observer=new IntersectionObserver(this.lazyLoad),this.observer.observe(this.img)):this.img.getBoundingClientRect().top<=window.innerHeight&&this.img.getBoundingClientRect().bottom>=0&&"none"!==getComputedStyle(this.img).display?this.loadMainImg():(document.addEventListener("scroll",this.lazyLoad),window.addEventListener("resize",this.lazyLoad),window.addEventListener("orientationchange",this.lazyLoad)))}},{key:"componentWillUnmount",value:function(){"IntersectionObserver"in window&&this.observer&&this.img&&this.observer.unobserve(this.img),document.removeEventListener("scroll",this.lazyLoad),window.removeEventListener("resize",this.lazyLoad),window.removeEventListener("orientationchange",this.lazyLoad)}},{key:"render",value:function(){var e=this.props,n=e.placeholderSrc,o=e.placeholderSrcSet,t=e.placeholderClassName,i=(e.onPlaceholderLoad,e.onPlaceholderError,e.src),l=e.srcSet,c=(e.className,e.onLoad,e.onError,e.loadAfterPlaceholderEnd,e.useObserverFallback,a()(e,["placeholderSrc","placeholderSrcSet","placeholderClassName","onPlaceholderLoad","onPlaceholderError","src","srcSet","className","onLoad","onError","loadAfterPlaceholderEnd","useObserverFallback"]));return n||o||i||l?g.a.createElement("img",r()({},c,{src:n,srcSet:o,className:t,onLoad:this.handleLoad,onError:this.handleError,ref:this.handleImgRef})):null}}]),n}(h.Component);v.defaultProps={placeholderSrc:null,placeholderSrcSet:null,placeholderClassName:"",onPlaceholderLoad:function(){},onPlaceholderError:function(){},src:null,srcSet:null,className:"",onLoad:function(){},onError:function(){},loadAfterPlaceholderEnd:!1,useObserverFallback:!0},n.default=v},function(e,n){e.exports=function(e,n){if(null==e)return{};var o,t,r={},i=Object.keys(e);for(t=0;t<i.length;t++)o=i[t],n.indexOf(o)>=0||(r[o]=e[o]);return r}},function(e,n){function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function t(n){return"function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?e.exports=t=function(e){return o(e)}:e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":o(e)},t(n)}e.exports=t},function(e,n){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,n){function o(n,t){return e.exports=o=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},o(n,t)}e.exports=o}])}));