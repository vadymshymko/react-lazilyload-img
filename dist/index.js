!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("prop-types"),require("react")):"function"==typeof define&&define.amd?define(["prop-types","react"],n):"object"==typeof exports?exports["your-library-name"]=n(require("prop-types"),require("react")):e["your-library-name"]=n(e.PropTypes,e.React)}(window,function(e,n){return function(e){var n={};function r(o){if(n[o])return n[o].exports;var t=n[o]={i:o,l:!1,exports:{}};return e[o].call(t.exports,t,t.exports,r),t.l=!0,t.exports}return r.m=e,r.c=n,r.d=function(e,n,o){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var t in e)r.d(o,t,function(n){return e[n]}.bind(null,t));return o},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p="/",r(r.s=11)}([function(n,r){n.exports=e},function(e,n){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,n){e.exports=function(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}},function(e,r){e.exports=n},function(e,n){function r(){return e.exports=r=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},r.apply(this,arguments)}e.exports=r},function(e,n,r){var o=r(12);e.exports=function(e,n){if(null==e)return{};var r,t,i=o(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)r=a[t],0<=n.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}},function(e,n){e.exports=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}},function(e,n){function r(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}e.exports=function(e,n,o){return n&&r(e.prototype,n),o&&r(e,o),e}},function(e,n,r){var o=r(13),t=r(1);e.exports=function(e,n){return!n||"object"!==o(n)&&"function"!=typeof n?t(e):n}},function(e,n){function r(n){return e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(n)}e.exports=r},function(e,n,r){var o=r(14);e.exports=function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&o(e,n)}},function(e,n,r){e.exports=r(15)},function(e,n){e.exports=function(e,n){if(null==e)return{};var r,o,t={},i=Object.keys(e);for(o=0;o<i.length;o++)r=i[o],0<=n.indexOf(r)||(t[r]=e[r]);return t}},function(e,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(n){return"function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?e.exports=o=function(e){return r(e)}:e.exports=o=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)},o(n)}e.exports=o},function(e,n){function r(n,o){return e.exports=r=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},r(n,o)}e.exports=r},function(e,n,r){"use strict";r.r(n);var o=r(4),t=r.n(o),i=r(5),a=r.n(i),l=r(6),c=r.n(l),s=r(7),u=r.n(s),f=r(8),d=r.n(f),p=r(9),m=r.n(p),y=r(10),b=r.n(y),h=r(1),g=r.n(h),v=r(2),L=r.n(v),S=r(3),w=r.n(S),O=r(0),E=r.n(O),x=function(e){function n(e){var r;return c()(this,n),r=d()(this,m()(n).call(this,e)),L()(g()(g()(r)),"lazyLoad",function(e){r.observer?e.forEach(function(e){e.isIntersecting&&(r.loadMainImg(),r.observer.unobserve(r.img))}):!1===r.isActive&&(r.isActive=!0,setTimeout(function(){r.img.getBoundingClientRect().top<=window.innerHeight&&0<=r.img.getBoundingClientRect().bottom&&"none"!==getComputedStyle(r.img).display&&(document.removeEventListener("scroll",r.lazyLoad),window.removeEventListener("resize",r.lazyLoad),window.removeEventListener("orientationchange",r.lazyLoad),r.loadMainImg()),r.isActive=!1},200))}),L()(g()(g()(r)),"handleImgRef",function(e){r.img=e}),L()(g()(g()(r)),"handleLoad",function(e){var n=r.props,o=n.onPlaceholderLoad,t=n.onLoad,i=n.loadAfterPlaceholderEnd,a=n.useObserverFallback;r.isMainImgLoading?t(e):(o(e),!i&&("IntersectionObserver"in window||a)||r.loadMainImg())}),L()(g()(g()(r)),"handleError",function(e){var n=r.props,o=n.onPlaceholderError,t=n.onError,i=n.loadAfterPlaceholderEnd;r.isMainImgLoading?t(e):(o(e),i&&r.loadMainImg())}),L()(g()(g()(r)),"loadMainImg",function(){var e=r.props,n=e.src,o=e.srcSet,t=e.className,i=e.onLoad,a=e.onError;r.img&&(n||o)&&(r.isMainImgLoading=!0,r.img.onLoad=i,r.img.onError=a,r.img.src=n,r.img.srcSet=o,r.img.className=t)}),r.img=null,r.observer=null,r.isActive=!1,r.isMainImgLoading=!1,r}return b()(n,e),u()(n,[{key:"componentDidMount",value:function(){this.img&&("IntersectionObserver"in window?(this.observer=new IntersectionObserver(this.lazyLoad),this.observer.observe(this.img)):this.img.getBoundingClientRect().top<=window.innerHeight&&0<=this.img.getBoundingClientRect().bottom&&"none"!==getComputedStyle(this.img).display?this.loadMainImg():(document.addEventListener("scroll",this.lazyLoad),window.addEventListener("resize",this.lazyLoad),window.addEventListener("orientationchange",this.lazyLoad)))}},{key:"componentWillUnmount",value:function(){"IntersectionObserver"in window&&this.observer&&this.img&&this.observer.unobserve(this.img),document.removeEventListener("scroll",this.lazyLoad),window.removeEventListener("resize",this.lazyLoad),window.removeEventListener("orientationchange",this.lazyLoad)}},{key:"render",value:function(){var e=this.props,n=e.placeholderSrc,r=e.placeholderSrcSet,o=e.placeholderClassName,i=(e.onPlaceholderLoad,e.onPlaceholderError,e.src),l=e.srcSet,c=(e.className,e.onLoad,e.onError,e.loadAfterPlaceholderEnd,e.useObserverFallback,a()(e,["placeholderSrc","placeholderSrcSet","placeholderClassName","onPlaceholderLoad","onPlaceholderError","src","srcSet","className","onLoad","onError","loadAfterPlaceholderEnd","useObserverFallback"]));return n||r||i||l?w.a.createElement("img",t()({},c,{src:n,srcSet:r,className:o,onLoad:this.handleLoad,onError:this.handleError,ref:this.handleImgRef})):null}}]),n}(S.Component);L()(x,"propTypes",{placeholderSrc:E.a.string,placeholderSrcSet:E.a.string,placeholderClassName:E.a.string,onPlaceholderLoad:E.a.func,onPlaceholderError:E.a.func,src:E.a.string,srcSet:E.a.string,className:E.a.string,onLoad:E.a.func,onError:E.a.func,loadAfterPlaceholderEnd:E.a.bool,useObserverFallback:E.a.bool}),L()(x,"defaultProps",{placeholderSrc:null,placeholderSrcSet:null,placeholderClassName:"",onPlaceholderLoad:function(){},onPlaceholderError:function(){},src:null,srcSet:null,className:"",onLoad:function(){},onError:function(){},loadAfterPlaceholderEnd:!1,useObserverFallback:!0});var P=x;r.d(n,"default",function(){return P})}])});